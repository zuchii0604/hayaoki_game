<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—©èµ·ããƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼</title>
    <style>
        body { font-family: sans-serif; text-align: center; background-color: #f0f8ff; padding: 20px; }
        .member-list { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-bottom: 20px; }
        button { padding: 15px 25px; font-size: 1.2rem; cursor: pointer; border-radius: 10px; border: none; background: white; box-shadow: 0 4px #ccc; }
        button:disabled { background: #eee; color: #aaa; box-shadow: none; }
        
        .container { max-width: 400px; margin: 0 auto; background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); text-align: left; }
        .rank-item { font-size: 1.2rem; padding: 8px 0; border-bottom: 1px solid #eee; }
        
        .stats-section { margin-top: 30px; border-top: 2px solid #ff8c00; padding-top: 10px; }
        table { width: 100%; margin-top: 10px; border-collapse: collapse; }
        th, td { text-align: center; padding: 5px; border-bottom: 1px solid #ddd; }
        
        .admin { margin-top: 40px; }
        .reset-btn { font-size: 0.7rem; background: #f0f0f0; border: 1px solid #ccc; padding: 5px; }
    </style>
</head>
<body>

    <h1>â˜€ï¸ æ—©èµ·ããƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³</h1>

    <div class="member-list" id="buttonArea">
        <button onclick="wakeUp(this, 'å­1')">å­1</button>
        <button onclick="wakeUp(this, 'å­2')">å­2</button>
        <button onclick="wakeUp(this, 'å­3')">å­3</button>
        <button onclick="wakeUp(this, 'å­4')">å­4</button>
        <button onclick="wakeUp(this, 'å­5')">å­5</button>
    </div>

    <div class="container">
        <h3>ğŸ† ä»Šæ—¥ã®ã˜ã‚…ã‚“ã„</h3>
        <div id="rankList"></div>

        <div class="stats-section">
            <h3>ğŸ“… ä»Šé€±ã®1ä½ã®å›æ•°</h3>
            <table id="statsTable">
                </table>
        </div>
    </div>

    <div class="admin">
        <button class="reset-btn" onclick="nextDay()">æ˜æ—¥ã¸ã®æº–å‚™ï¼ˆä»Šæ—¥ã‚’ãƒªã‚»ãƒƒãƒˆï¼‰</button>
        <button class="reset-btn" onclick="clearAll()">å…¨éƒ¨æ¶ˆã™</button>
    </div>

    <script>
        const members = ['å­1', 'å­2', 'å­3', 'å­4', 'å­5'];
        let count = 0;

        // ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
        let weeklyWins = JSON.parse(localStorage.getItem('weeklyWins')) || {};
        members.forEach(m => { if(!weeklyWins[m]) weeklyWins[m] = 0; });

        function wakeUp(btn, name) {
            count++;
            
            // 1ä½ã®äººã ã‘ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—
            if (count === 1) {
                weeklyWins[name]++;
                localStorage.setItem('weeklyWins', JSON.stringify(weeklyWins));
                updateStats();
            }

            // ä»Šæ—¥ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¡¨ç¤º
            const rankList = document.getElementById('rankList');
            const div = document.createElement('div');
            div.className = 'rank-item';
            div.innerHTML = `<b>${count}ä½</b>: ${name}`;
            rankList.appendChild(div);

            btn.disabled = true;
        }

        function updateStats() {
            const table = document.getElementById('statsTable');
            table.innerHTML = `<tr><th>åå‰</th><th>1ä½ã®æ•°</th></tr>` + 
                members.map(m => `<tr><td>${m}</td><td>${weeklyWins[m]}å›</td></tr>`).join('');
        }

        function nextDay() {
            if(confirm("ä»Šæ—¥ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’æ¶ˆã—ã¦ã€æ˜æ—¥ã®æº–å‚™ã‚’ã—ã¾ã™ã‹ï¼Ÿï¼ˆç´¯è¨ˆã¯æ®‹ã‚Šã¾ã™ï¼‰")) {
                location.reload(); 
            }
        }

        function clearAll() {
            if(confirm("ç´¯è¨ˆãƒ‡ãƒ¼ã‚¿ã‚‚ã™ã¹ã¦æ¶ˆå»ã—ã¾ã™ã‹ï¼Ÿ")) {
                localStorage.clear();
                location.reload();
            }
        }

        // åˆæœŸè¡¨ç¤º
        updateStats();
    </script>
</body>
</html>