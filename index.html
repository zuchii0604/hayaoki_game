<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—©èµ·ããƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼</title>
    <style>
        body { font-family: sans-serif; text-align: center; background-color: #f0f8ff; padding: 20px; }
        h1 { color: #ff8c00; margin-bottom: 5px; }
        
        /* æ—¥ä»˜ã¨æ›œæ—¥ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        #dateContainer { font-size: 1.4rem; color: #666; margin-bottom: 20px; font-weight: bold; }
        .sat { color: #0000ff; } /* åœŸæ›œæ—¥ã¯é’ */
        .sun { color: #ff0000; } /* æ—¥æ›œæ—¥ã¯èµ¤ */
        
        .member-list { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-bottom: 20px; }
        button.wake-btn { padding: 15px 25px; font-size: 1.2rem; cursor: pointer; border-radius: 10px; border: none; background: white; box-shadow: 0 4px #ccc; font-weight: bold; }
        button.wake-btn:active { box-shadow: none; transform: translateY(4px); }
        button.wake-btn:disabled { background: #eee; color: #aaa; box-shadow: none; cursor: not-allowed; }
        
        .container { max-width: 400px; margin: 0 auto; background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); text-align: left; }
        .rank-item { font-size: 1.3rem; padding: 10px 0; border-bottom: 1px solid #eee; }
        .rank-number { font-weight: bold; color: #ff4500; margin-right: 10px; }
        
        .stats-section { margin-top: 30px; border-top: 3px solid #ff8c00; padding-top: 10px; }
        table { width: 100%; margin-top: 10px; border-collapse: collapse; font-size: 1.1rem; }
        th, td { text-align: center; padding: 8px; border-bottom: 1px solid #ddd; }
        
        .admin { margin-top: 40px; }
        .reset-btn { font-size: 0.8rem; background: #f0f0f0; border: 1px solid #ccc; padding: 8px; border-radius: 5px; cursor: pointer; color: #666; }
    </style>
</head>
<body>

    <h1>â˜€ï¸ æ—©èµ·ããƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³</h1>
    <div id="dateContainer"></div> <div class="member-list" id="buttonArea">
        <button class="wake-btn" onclick="wakeUp(this, 'ã‚ã„')">ã‚ã„</button>
        <button class="wake-btn" onclick="wakeUp(this, 'ãã†ãŸ')">ãã†ãŸ</button>
        <button class="wake-btn" onclick="wakeUp(this, 'ã¯ã‚‹ã²')">ã¯ã‚‹ã²</button>
        <button class="wake-btn" onclick="wakeUp(this, 'ã‚ãã¨')">ã‚ãã¨</button>
        <button class="wake-btn" onclick="wakeUp(this, 'ãµã‚†ã‹')">ãµã‚†ã‹</button>
    </div>

    <div class="container">
        <h3>ğŸ† ä»Šæ—¥ã®ã˜ã‚…ã‚“ã„</h3>
        <div id="rankList"></div>

        <div class="stats-section">
            <h3>ğŸ“… ã“ã‚“ã—ã‚…ã†ã®å„ªå‹å›æ•°</h3>
            <table id="statsTable"></table>
        </div>
    </div>

    <div class="admin">
        <button class="reset-btn" onclick="nextDay()">æ˜æ—¥ã¸ã®æº–å‚™ï¼ˆä»Šæ—¥ã‚’ãƒªã‚»ãƒƒãƒˆï¼‰</button>
        <button class="reset-btn" onclick="clearAll()">ã™ã¹ã¦ã®è¨˜éŒ²ã‚’æ¶ˆã™</button>
    </div>

    <script>
        const members = ['ã‚ã„', 'ãã†ãŸ', 'ã¯ã‚‹ã²', 'ã‚ãã¨', 'ãµã‚†ã‹'];
        let count = 0;

        // æ—¥ä»˜ã¨æ›œæ—¥ã‚’è¡¨ç¤ºã™ã‚‹å‡¦ç†
        function displayDate() {
            const now = new Date();
            const days = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];
            const dayOfWeek = now.getDay(); // 0:æ—¥, 6:åœŸ
            
            let colorClass = "";
            if (dayOfWeek === 0) colorClass = "sun";
            if (dayOfWeek === 6) colorClass = "sat";

            const dateStr = `${now.getFullYear()}å¹´${now.getMonth() + 1}æœˆ${now.getDate()}æ—¥ <span class="${colorClass}">(${days[dayOfWeek]})</span>`;
            document.getElementById('dateContainer').innerHTML = dateStr;
        }

        // ä¿å­˜ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
        let weeklyWins = JSON.parse(localStorage.getItem('weeklyWins')) || {};
        members.forEach(m => { if(weeklyWins[m] === undefined) weeklyWins[m] = 0; });

        function wakeUp(btn, name) {
            count++;
            if (count === 1) {
                weeklyWins[name]++;
                localStorage.setItem('weeklyWins', JSON.stringify(weeklyWins));
                updateStats();
            }
            const rankList = document.getElementById('rankList');
            const div = document.createElement('div');
            div.className = 'rank-item';
            div.innerHTML = `<span class="rank-number">${count}ä½</span> <span>${name}</span>`;
            rankList.appendChild(div);
            btn.disabled = true;
        }

        function updateStats() {
            const table = document.getElementById('statsTable');
            table.innerHTML = `<tr><th>ãªã¾ãˆ</th><th>1ä½ã®æ•°</th></tr>` + 
                members.map(m => `<tr><td>${m}</td><td>ğŸ† ${weeklyWins[m]} å›</td></tr>`).join('');
        }

        function nextDay() {
            if(confirm("ä»Šæ—¥ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã‹ï¼Ÿ")) {
                location.reload(); 
            }
        }

        function clearAll() {
            if(confirm("ã™ã¹ã¦ã®è¨˜éŒ²ã‚’å®Œå…¨ã«æ¶ˆå»ã—ã¾ã™ã‹ï¼Ÿ")) {
                localStorage.clear();
                location.reload();
            }
        }

        // å®Ÿè¡Œ
        displayDate();
        updateStats();
    </script>
</body>
</html>
